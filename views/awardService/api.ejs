<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Awards API Data</title>    
</head>

<body>
    <div class="container">
        <h1>Caterfly</h1>

        <% if (apiData && apiData.length> 0) { %>
            <table style="margin-top:20px; width: 80%;" align="center">
                <% apiData.forEach(function(award) { %>
                <tr>
                    <td style="width: 33%;text-align: center;">
                         <img src="<%= award.badge_image %>" 
                                     alt="<%= award.badge_name || 'Badge' %>" 
                                     style="max-width:120px;height:auto;object-fit:contain;border-radius:4px;">
                    </td>
                    <td>
                        <table style="width: 100%;">
                            <tr>
                                <td><h4>Participant Name: <%= award.participant_name || 'N/A' %></h4></td>
                                <td><h4>Isued On <% if (award.issue_date) { %>
                                    <%= new Date(award.issue_date).toISOString().split('T')[0] %>
                                        <% } else { %>
                                            N/A
                                            <% } %></h4></td>
                            </tr>
                            <tr>
                                <td colspan="2"><h4>Description</h4>
                                <br><%= award.badge_description || 'N/A' %>
                                </td>
                            </tr>
                        </table>
                    </td>                    
                </tr>
                <% }); %>
            </table>   
            <% } else { %>
                <div class="info">
                    <strong>No records found.</strong> Try adjusting your filters or query parameters.
                </div>
                <% } %>
            
    
            </div>
        </div>
</body>

</html>